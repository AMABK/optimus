<app-spinner *ngIf="this.loaderService.isLoading.getValue()"></app-spinner>
<app-header
  [userData]="currentUser"
  [title]="title"
  [sidenav]="sidenav"
  (logout)="logout($event)"
>
</app-header>

<mat-sidenav-container>
  <mat-sidenav [opened]="currentUser" #sidenav mode="side" class="app-sidenav">
    <nav>
      <button
        mat-button
        [matMenuTriggerFor]="menu"
        fxFlexFill
        class="button-dropdown"
      >
        <span style="float:left;"><b>Optimus E-Solutions</b></span>
        <mat-icon style="float:right;padding-top:6px">expand_more</mat-icon>
      </button>
      <!-- <mat-accordion *ngFor="let menu of menus">
        <mat-expansion-panel >
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>{{menu.main.icon}}</mat-icon> {{menu.main.label}}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <a *ngFor="let sub of menu.sub"
            mat-button
            class="nav-link"
            [routerLink]=""
            routerLinkActive="active"
          >
            <mat-icon>{{sub.icon}}</mat-icon>
            {{sub.label}}
          </a>
        </mat-expansion-panel>
      </mat-accordion> -->

      <mat-menu #menu="matMenu" style="border-style: solid;border-width: 1px;">
        <button mat-menu-item style="min-inline-size: 200px;">
          Optimus E-Solutions
        </button>
        <button mat-menu-item>Item 2</button>
      </mat-menu>
      <ng-container  *ngFor="let link of links">
      <a
      *ngIf="((link.designation==authService.getUserData()?.user.designation)||(link.designation=='user'))"
        mat-button
        class="nav-link"
        [routerLink]="link.path"
        routerLinkActive="active"
      >
        <mat-icon>{{ link.icon }}</mat-icon>
        {{ link.label }}
      </a>
      </ng-container>
    </nav>
  </mat-sidenav>

  <div class="app-content">
    <router-outlet #routerOutlet="outlet"></router-outlet>
  </div>
</mat-sidenav-container>
<app-footer></app-footer>
